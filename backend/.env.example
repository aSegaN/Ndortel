# ============================================
# NDORTEL - Variables d'Environnement
# VERSION: 2.0.0
# ============================================
# Copier ce fichier en .env et configurer les valeurs
# ============================================

# ============================================
# ENVIRONNEMENT
# ============================================
NODE_ENV=development
# En production, mettre: NODE_ENV=production

# ============================================
# BASE DE DONNÉES (Obligatoire)
# ============================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ndortel
DB_USER=postgres
DB_PASSWORD=votre_mot_de_passe_db

# ============================================
# SÉCURITÉ JWT (CRITIQUE)
# ============================================
# ⚠️  OBLIGATOIRE EN PRODUCTION
# 
# Générer un secret sécurisé:
#   openssl rand -hex 64
#   ou
#   node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# Minimum 32 caractères, recommandé 64+
# NE JAMAIS utiliser de valeur par défaut en production
#
JWT_SECRET=REMPLACER_PAR_UN_SECRET_GENERE_AVEC_OPENSSL_RAND_HEX_64

# Durée de validité du token (défaut: 8h)
JWT_EXPIRES_IN=8h

# Rounds bcrypt pour le hashage des mots de passe (défaut: 12)
BCRYPT_ROUNDS=12

# ============================================
# RATE LIMITING
# ============================================
# Fenêtre en millisecondes (défaut: 15 min = 900000)
RATE_LIMIT_WINDOW=900000

# Nombre max de requêtes par fenêtre (défaut: 100)
RATE_LIMIT_MAX=100

# Tentatives de login max par 15 min (défaut: 5)
RATE_LIMIT_AUTH_MAX=5

# ============================================
# CORS - Frontend autorisé
# ============================================
# En production, mettre l'URL exacte du frontend
# Plusieurs URLs séparées par des virgules
FRONTEND_URL=http://localhost:3000

# ============================================
# API GEMINI (IA)
# ============================================
# Obtenir une clé: https://makersuite.google.com/app/apikey
# ⚠️  Cette clé reste côté serveur, jamais exposée au client
GEMINI_API_KEY=votre_cle_gemini_ici

# ============================================
# SERVEUR
# ============================================
PORT=5001

# ============================================
# PROVIDERS DE SECRETS (Optionnel)
# ============================================
# Pour utiliser un fichier de secrets externe:
# SECRETS_FILE=/run/secrets/ndortel.json

# Pour AWS Systems Manager Parameter Store:
# AWS_REGION=eu-west-3
# AWS_SSM_PATH=/ndortel/prod/

# Pour HashiCorp Vault:
# VAULT_ADDR=https://vault.example.com:8200
# VAULT_TOKEN=votre_token_vault
# VAULT_PATH=secret/data/ndortel

# ============================================
# FUTUR: Stockage fichiers (Phase 1.4)
# ============================================
# S3_ENDPOINT=
# S3_BUCKET=ndortel-documents
# S3_ACCESS_KEY=
# S3_SECRET_KEY=
# S3_REGION=eu-west-3

# ============================================
# FUTUR: PKI/HSM (Phase 2)
# ============================================
# HSM_PROVIDER=senum
# HSM_SLOT=0
# HSM_PIN=
